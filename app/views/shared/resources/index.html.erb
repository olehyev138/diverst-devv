<div class="content__header">
  <h1>Resources</h1>
  <%= link_to "+ Add resource", polymorphic_path([@container, :resource], action: "new"), class: "btn btn--primary" if is_admin? %>
</div>

<div class="content__main">
  <div class="card">
    <div class="card__section">
      <table class="table--has-border" id="resources-table">
        <thead>
          <th>Title</th>
          <th>Creation date</th>
          <% if is_admin? %>
            <th>Options</th>
          <% end %>
        </thead>
        <tbody>
          <% @resources.each do |resource| %>
            <tr>
              <td><%= link_to resource.title, resource.file.url, target: '_blank' %> <span class="badge badge--spaced" style="background-color: #<%= color_hex_for_extension(resource.file_extension) %>;"><%= resource.file_extension %></span></td>
              <td><%= resource.created_at.to_s :reversed_slashes %></td>
              <% if is_admin? %>
                <td>
                  <%= link_to "Edit", polymorphic_path([@container, resource], action: "edit") %> -
                  <%= link_to "Delete", [@container, resource], method: :delete, class: "error", data: { confirm: "Are you sure?" } %>
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>