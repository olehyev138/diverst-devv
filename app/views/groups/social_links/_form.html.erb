<div class="content__main">
  <div class="card">
    <div class="card__section">
      <%= simple_form_for @social_link, url: group_social_links_path do |f| %>
        <%= f.input :url, label: "URL", input_html: { autofocus: true } %>
        <%= f.association :segments, label: "#{c_t(:segment).pluralize}", collection: @group.enterprise.segments, input_html: { class: "select2" } %>

        <%= f.simple_fields_for :news_feed_link, @social_link.news_feed_link do |nfl| %>
          <%= nfl.hidden_field :id, :value => nfl.object.id %>
          <%= nfl.hidden_field :news_feed_id, :value => @group.news_feed.id %>
          <%= nfl.association :segments, label: "#{c_t(:segment).pluralize}", collection: @group.enterprise.segments, input_html: { class: "select2" } %>
          <%= nfl.association :shared_news_feeds, label: 'Share with other ' + "#{c_t(:erg).pluralize}", label_method: lambda { |n| "#{n.group.name}" }, collection: NewsFeed.where(:group_id => @group.enterprise.groups.ids).where.not(:group_id => @group.id), input_html: { class: "select2" } %>
        <% end %>
        
        <%= f.button :submit %>
      <% end %>
    </div>
  </div>
</div>