<div class="content__header">
  <h1>Employees</h1>
  <%= link_to "Add an employee", new_employee_invitation_path, class: "btn btn--primary" %>
</div>

<div class="content__main">
  <div class="card">
    <div class="card__section">
      <h4>Invitation sent</h4>
      <table class="table--has-border">
        <thead>
          <th>Email</th>
          <th>Options</th>
        </thead>
        <tbody>
          <% @employees.invitation_not_accepted.each do |employee| %>
            <tr>
              <td><%= link_to employee.email, employee_path(employee) %></td>
              <td class="text-right"><%= link_to "Revoke invitation", employee_path(employee), method: :delete, class: "error" %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="content__main">
  <div class="card">
    <div class="card__section">
      <h4>Manually added</h4>
      <table class="table--has-border">
        <thead>
          <th>Name</th>
          <th>Email</th>
          <th>Options</th>
        </thead>
        <tbody>
          <% @employees.invitation_accepted.each do |employee| %>
            <tr>
              <td><%= employee.name %></td>
              <td><%= employee.email %></td>
              <td>
                <%= link_to "Details", employee_path(employee) %>
                <%= link_to "Delete", employee_path(employee), method: :delete, class: "error" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <div class="card__section">
      <%= paginate @employees %>
    </div>
  </div>
</div>

<div class="content__main">
  <div class="card">
    <div class="card__section">
      <h4>SAML</h4>
      <table class="table--has-border">
        <thead>
          <th>Name</th>
          <th>Email</th>
          <th>Options</th>
        </thead>
        <tbody>
          <% @employees.where(auth_source: "saml").each do |employee| %>
            <tr>
              <td><%= employee.name %></td>
              <td><%= employee.email %></td>
              <td>
                <%= link_to "Details", employee_path(employee) %>
                <%= link_to "Delete", employee_path(employee), method: :delete, class: "error" %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <div class="card__section">
      <%= paginate @employees %>
    </div>
  </div>
</div>